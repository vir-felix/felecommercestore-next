import { useRef } from "react";

import useScrollTop from "@Hooks/useScrollTop";

export function ScrollUpButton() {
  const buttonRef = useRef<HTMLButtonElement>(null);
  const scrollTop = useScrollTop();

  if (buttonRef.current) {
    const scrollRatio =
      scrollTop / (document.documentElement.scrollHeight - innerHeight);

    buttonRef.current.style.setProperty(
      "--animation-duration-offset",
      scrollRatio.toString()
    );

    buttonRef.current.classList.toggle("scroll-up--active", scrollRatio > 0.3);
  }

  return (
    <button
      onClick={() => scrollTo({ top: 0, behavior: "smooth" })}
      ref={buttonRef}
      className="scroll-up"
    >
      <svg viewBox="0 0 500 1000" className="scroll-up__image">
        <g transform="translate(0,500) scale(0.1,-0.1)">
          <path d="M2301.7,4957.3c-471.9-166.8-779.2-651.9-926.2-1468.3c-70.2-395.1-70.2-1183,2.2-1650.5c70.2-465.3,162.4-897.7,296.3-1393.7C1770.5,87,1796.9,12.3,1838.5-7.4c39.5-19.8,212.9,8.8,908.7,147.1c474.1,96.6,877.9,177.8,897.7,184.4c57.1,17.6,65.8,70.2,74.6,357.8c8.8,327,57.1,513.6,239.2,915.3c239.2,529,265.6,665,232.7,1134.7c-57.1,787.9-140.5,1178.6-335.8,1575.9c-70.2,142.7-129.5,226.1-256.8,351.2C3337.6,4920,3105,5010,2688,5010C2492.6,5010,2420.2,4999,2301.7,4957.3z" />
          <path d="M2852.6-492.5c-491.6-101-816.5-177.8-838.4-199.7c-52.7-46.1-50.5-94.4,24.1-406c144.9-597,300.7-952.6,518-1167.7c232.7-234.8,493.8-309.5,864.8-245.8c364.3,61.4,570.7,199.7,654.1,443.4c61.5,173.4,50.5,603.6-21.9,965.7c-79,379.7-180,737.5-217.3,759.4C3781-308.1,3653.7-327.9,2852.6-492.5z" />
        </g>
      </svg>
      <svg
        viewBox="0 0 500 1000"
        className="scroll-up__image scroll-up__image--flipped"
      >
        <g transform="translate(-500,280) scale(0.1,-0.1)">
          <path d="M7077.7,2733.9c-127.3-17.6-307.3-76.8-434.6-142.7c-155.8-83.4-379.7-316.1-482.9-504.8c-212.9-384.1-333.6-963.5-360-1718.6c-15.3-465.3,2.2-546.5,215.1-1016.2c197.5-436.8,239.2-594.8,254.6-965.7c11-267.8,17.6-296.3,59.3-320.5c26.3-15.3,432.4-105.4,906.5-199.7c691.4-140.5,869.1-169,910.9-149.3c46.1,22,68,83.4,188.8,535.5C8603.1-729.5,8708.4,29.9,8668.9,662C8574.5,2147.9,8028,2861.2,7077.7,2733.9z" />
          <path d="M6147-2625.9c-26.3-26.3-72.4-173.4-131.7-410.4c-226.1-930.6-208.5-1314.7,76.8-1564.9c158-138.3,342.4-188.8,689.2-188.8c267.8,0,278.8,2.2,421.4,72.4c331.4,162.4,542.1,533.3,728.7,1275.2c85.6,338,96.6,443.3,50.5,482.9c-24.2,17.5-1707.6,375.3-1775.6,375.3C6195.3-2584.2,6171.2-2601.7,6147-2625.9z" />
        </g>
      </svg>
    </button>
  );
}
